plugins {
  id "groovy"
  id "com.gradle.plugin-publish" version "0.15.0"
  id "java-gradle-plugin"
  id "maven-publish"
}

group = groupId

version "${version}"

gradlePlugin {
  plugins {
    auroraPlugin {
      id = 'no.skatteetaten.gradle.aurora-docker'
      implementationClass = 'no.skatteetaten.aurora.gradle.plugins.docker.AuroraDockerPlugin'
    }
  }
}

pluginBundle {
  website = 'https://github.com/Skatteetaten/aurora-docker-gradle-plugin'
  vcsUrl = 'https://github.com/Skatteetaten/aurora-docker-gradle-plugin'
  description = 'Gradle plugin to build and test Docker images'
  tags = ['skatteetaten', 'corporate']

  plugins {
    auroraPlugin {
      displayName = 'Skatteetaten Aurora Gradle Docker plugin'
    }
  }
}

dependencies {
    implementation(gradleApi())
    implementation('com.github.zafarkhaja:java-semver:0.9.0')
    implementation('commons-io:commons-io:2.11.0')
    testImplementation group: 'org.spockframework', name: 'spock-core', version: '2.0-groovy-3.0'
    testImplementation group: 'org.codehaus.groovy', name: 'groovy-all', version: '3.0.7', ext: 'pom'
}